<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1.0, user-scalable=no" name="viewport" /><title>日常学习</title><meta description="geniousbar 日常知识总结" /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="stylesheets/style-408849a5.css" rel="stylesheet" type="text/css" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" /><link href="images/favicon-6c3f3d04.png" rel="icon" type="image/png" /><script src="javascripts/all-ae915a3d.js"></script></head><body><header><div class="top-menu"><div class="top-menu-wrapper"><div class="top-menu-list"><ul><li><a href="/">Home</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li><li><a href="/by-year/">By Year</a></li></ul></div></div></div><h1 class="logo"><a href="/" title="日常学习"><span class="logo-text">日常学习</span></a></h1></header><main><article><h1 class="article-title"><a href="/2017/07/28/crafting-rails/">Crafting rails</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">July 28, 2017</span></div><div class="tag-labels"><a href="/tags/rails/"><small class="tag-label">rails</small></a><a href="/tags/ruby/"><small class="tag-label">ruby</small></a></div><hr class="article-header-separator" /><h2 id="crafting-rails-application">Crafting rails application</h2>

<h3 id="创建自己的render">创建自己的render</h3>

<ul>
  <li>rails plugins new pdf_render</li>
  <li>gemspec, 之盾依赖， 作者、version， lib/pef_render.rb会被自动require（详细看bundler.io中的解释）</li>
  <li>Gemfile, 直接引入gemspec，生命依赖关系</li>
</ul>

<p>rails render 解析</p>

<div class="highlight"><pre class="highlight ruby"><code>  <span class="c1"># rails/actionpac k/lib/action_controller/metal...</span></code></pre></div><div class="read-more"><a href="/2017/07/28/crafting-rails/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/07/21/ruby-gem-thor/">thor option parse 的代替者</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">July 21, 2017</span></div><div class="tag-labels"><a href="/tags/ruby/"><small class="tag-label">ruby</small></a><a href="/tags/gem/"><small class="tag-label">gem</small></a></div><hr class="article-header-separator" /><h2 id="thor">thor</h2>

<blockquote>
  <p>option parse 的代替者，可以在shell中调用脚本，更方便的传递参数，转换参数类型，　设定默认值，进行必要参数校验等.</p>
</blockquote>

<h3 id="简单的示例">简单的示例：</h3>

<div class="highlight"><pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Test</span> <span class="o">&lt;</span> <span class="no">Thor</span>
  <span class="n">desc</span> <span class="s2">"example FILE"</span><span class="p">,</span> <span class="s2">"an example task"</span>
  <span class="n">method_option</span> <span class="ss">:delete</span><span class="p">,</span> <span class="ss">:aliases</span> <span class="o">=&gt;</span> <span class="s2">"-d"</span><span class="p">,</span> <span class="ss">:desc</span> <span class="o">=&gt;</span> <span class="s2">"Delete the file after parsing it"</span>
  <span class="k">def</span> <span class="nf">example</span><span class="p">(</span><span class="n">file</span></code></pre></div><div class="read-more"><a href="/2017/07/21/ruby-gem-thor/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/29/databases/">七周七数据库</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 29, 2017</span></div><div class="tag-labels"><a href="/tags/mysql/"><small class="tag-label">mysql</small></a><a href="/tags/riak/"><small class="tag-label">riak</small></a><a href="/tags/redis/"><small class="tag-label">redis</small></a><a href="/tags/hbase/"><small class="tag-label">hbase</small></a></div><hr class="article-header-separator" /><h2 id="七周七数据库">七周七数据库</h2>
<p><a href="#postgres">Postgres</a><br>
<a href="#riak">Riak</a><br>
<a href="#hbase">Rbase</a><br>
<a href="#mongodb">MongoDB</a></p>

<h3 id="概述">概述</h3>
<ul>
  <li>选取那种数据库能够最好的解决你的问题</li>
  <li>数据库类型：关系型(Postgres)、键值类型(Riak, Redis)、多列型(Hbase)、面向文档型(MongoDb, CouchDb)、图型(Neo4j)</li>
  <li>模式是数据库所强制的一个刚性框架</li>
  <li>实现横向扩展（MongoDB， Hbase、Riak）， 纵向扩展（Postgres、Neo4j、Redis）</li>
  <li>关系型数据库： Mysql, H2, HSQLDB...</li>
</ul><div class="read-more"><a href="/2017/06/29/databases/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/26/mysql/">高性能Mysql</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 26, 2017</span></div><div class="tag-labels"><a href="/tags/mysql/"><small class="tag-label">Mysql</small></a></div><hr class="article-header-separator" /><h2 id="mysql-性能优化">Mysql 性能优化</h2>

<h3 id="mysql-架构">mysql 架构</h3>

<div class="highlight"><pre class="highlight plaintext"><code>  客户端 ---&gt; 连接/线程处理 ----&gt; 查询缓存
                |               ^
                |               |
                |               |
                |------------&gt; 解析器 ---------&gt; 优化器 ------&gt; 存储引擎
                ( 第一层)      (第...</code></pre></div><div class="read-more"><a href="/2017/06/26/mysql/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/25/economy-learn/">Principles of economics</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 25, 2017</span></div><div class="tag-labels"><a href="/tags/economy/"><small class="tag-label">economy</small></a></div><hr class="article-header-separator" /><h2 id="经济学原理微观经济学">经济学原理(微观经济学)</h2>

<h3 id="经济学十大原理">经济学十大原理</h3>
<hr>
<ul>
  <li>人们面临权衡取舍<br>
社会面临着在　效率公平 之间的权衡取舍</li>
  <li>机会成本(某种东西的成本是为了得到他所放弃的东西), 比如时间，资源</li>
  <li>理性人考虑边际效应</li>
  <li>人们会对激励作出反应<br>
整个经济学的内容可以简单的概括为: “人们会对激励作出反应，其余内容则是对内容的解释”</li>
  <li>贸易可以是每个人的状态都变得更好</li>
  <li>市场通常是组织经济活动的一种好方法</li>
  <li>政府有时可以改善市场结果<br>
政府干预经济１：促进效率或者公平，　２：市场失灵，　３：设计良好...</li>
</ul><div class="read-more"><a href="/2017/06/25/economy-learn/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/22/linux-service/">Linux service</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 22, 2017</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/relearn/"><small class="tag-label">relearn</small></a><a href="/tags/service/"><small class="tag-label">service</small></a></div><hr class="article-header-separator" /><h2 id="linux-service">linux service</h2>

<h4 id="service">service</h4>
<blockquote>

  <p>简单的说,系统为了某些功能必须要提供一些服务 (丌讳是系统本身还是网络方面),这个服务就称为 service 。 但是 service 的提供总是需要程序的运作吧!否则如何执行呢?所以达成这个 service 的程序我们就称呼他为 daemon 啰</p>
</blockquote>

<ul>
  <li>super daemon,
    <ul>
      <li>multi-threaded  多线程,</li>
      <li>single-threaded 单线程,</li>
    </ul>
  </li>
  <li>
    <p>stand...</p>
</li>
</ul><div class="read-more"><a href="/2017/06/22/linux-service/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/22/linux-process/">Linux process</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 22, 2017</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/relearn/"><small class="tag-label">relearn</small></a><a href="/tags/process/"><small class="tag-label">process</small></a></div><hr class="article-header-separator" /><h2 id="linux-process">linux process</h2>

<h5 id="程序">程序</h5>
<ul>
  <li>触发任何一个事件，系统会将他定义为一个程序，赋予PID，根据调用用户与相关属性关系，赋予PID相关的有效的权限设定， 在系统上进行的动作就与这个权限相关</li>
  <li>shell是一个程序， 执行bash， 与内核交互</li>
  <li>fork and exec, fork, 父进程 到子进程， 赋予子进程新的PID， PPID=父进程， exec 程序实体</li>
  <li>crontab, atd, syslog, 为常驻进程
    <h4 id="工作管理">工作管理</h4>
  </li>
  <li>background job...</li>
</ul><div class="read-more"><a href="/2017/06/22/linux-process/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/22/linux-crontab/">Linux crontab</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 22, 2017</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/relearn/"><small class="tag-label">relearn</small></a><a href="/tags/crontab/"><small class="tag-label">crontab</small></a></div><hr class="article-header-separator" /><h2 id="linux-crontab-例行性工作排程">linux crontab （例行性工作排程）</h2>

<h5 id="at">at</h5>
<ul>
  <li>执行一次就结束的程序指令</li>
  <li>开启 /etc/init.d/atd restart</li>
  <li>at任务记录在 /var/spool/at/中</li>
  <li>权限 /etc/at.allow, /etc/at.deny, 规则： 1. 先寻找at.allow，写入这个文档的使用者才能使用，没有写入的不能使用 2. 寻找 /etc/at.deny， 写入文档的不能使用， 没有写入的可以使用, 3.两个文档都不存在的，只有root可以使用。</li>
  <li>按照...</li>
</ul><div class="read-more"><a href="/2017/06/22/linux-crontab/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/19/linux-relearn/">Linux Relearn</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 19, 2017</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/relearn/"><small class="tag-label">relearn</small></a><a href="/tags/bash/"><small class="tag-label">bash</small></a><a href="/tags/shell/"><small class="tag-label">shell</small></a></div><hr class="article-header-separator" /><h2 id="linux-bash">linux bash</h2>

<h4 id="常用命令">常用命令</h4>
<ul>
  <li>history, alias, type, 变量，echo, unset, env, declare, set, read, array</li>
  <li>系统变量， HOME, SHELL, HISISIZE, PATH, LANG, RANDOM, $, $?, OSTYPE, HOSTTYPE, MACHTYPE,</li>
  <li>read, read -p ‘please enter you name’ -t 100 name</li>
  <li>declare, declare -a...</li>
</ul><div class="read-more"><a href="/2017/06/19/linux-relearn/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/06/19/linux-relearn-shell/">Linux Shell</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">June 19, 2017</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/relearn/"><small class="tag-label">relearn</small></a><a href="/tags/bash/"><small class="tag-label">bash</small></a><a href="/tags/shell/"><small class="tag-label">shell</small></a></div><hr class="article-header-separator" /><h2 id="linux-shell">linux shell</h2>

<h4 id="常用命令">常用命令</h4>
<ul>
  <li>history, alias, type, 变量，echo, unset, env, declare, set, read, array</li>
  <li>系统变量， HOME, SHELL, HISISIZE, PATH, LANG, RANDOM, $, $?, OSTYPE, HOSTTYPE, MACHTYPE,</li>
  <li>read, read -p ‘please enter you name’ -t 100 name</li>
  <li>declare, declare ...</li>
</ul><div class="read-more"><a href="/2017/06/19/linux-relearn-shell/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><div class="paginate-wrapper"><div class="next-page"><a href="/page/2/"><i class="fa fa-arrow-right"></i> Next Page</a></div></div><div class="page-number">Page 1 of 4</div></article></main><footer><div class="footer-wrapper"><div class="author"><div class="image-wrapper"><a href="/author/"><img alt="author" src="images/profile-1e71686a.png" /></a></div></div><div class="copyright"><i class="fa fa-copyright"></i> 2017 <a href="/">日常学习</a> - geniousbar</div></div></footer></body></html>