<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1.0, user-scalable=no" name="viewport" /><title>日常学习</title><meta description="geniousbar 日常知识总结" /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="../../stylesheets/style-198d4031.css" rel="stylesheet" type="text/css" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../images/favicon-6c3f3d04.png" rel="icon" type="image/png" /><script src="../../javascripts/all-b3988275.js"></script></head><body><header><div class="top-menu"><div class="top-menu-wrapper"><div class="top-menu-list"><ul><li><a href="/">Home</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li><li><a href="/by-year/">By Year</a></li><li id="wechat"><a href="#" onclick="toggleShowWechat()">Wechat</a></li></ul></div></div></div><div id="header-wechat-img"><img src="../../images/wechat_nasa-0d87c0dd.png" /></div><h1 class="logo"><a href="/" title="日常学习"><span class="logo-text">日常学习</span></a></h1></header><main><article><h1 class="article-title"><a href="/2017/04/19/linux-maintain/">linux维护</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">April 19, 2017</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a></div><hr class="article-header-separator" /><h3 id="二台机器之间同步大文件拷贝文件到另一台机器">二台机器之间同步大文件(拷贝文件到另一台机器)</h3>
<p>rsync -rP –rsh=ssh /file/path name@ip:/file/path</p>
<h3 id="建立软连接">建立软连接</h3>
<p>ln -s original/file/path soft/file/path</p>
<h3 id="linux后台启动服务">linux后台启动服务</h3>
<p>nohup ruby http_server.rb 2&gt;&amp;1 » log.log 2&gt;&amp;1 /dev/null &amp;<br>
nohup command &amp;&gt; /dev/null &amp;</p>
<h3 id="linux根据关键字得到pid号">linux根据关键字得到pid号</h3>
<p>pgrep -f keyword</p><div class="read-more"><a href="/2017/04/19/linux-maintain/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/02/25/docker/">Docker</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">February 25, 2017</span></div><div class="tag-labels"><a href="/tags/docker/"><small class="tag-label">Docker</small></a></div><hr class="article-header-separator" /><h3 id="安装docker">安装docker</h3>
<div class="highlight"><pre class="highlight plaintext"><code>阿里云的安装脚本
curl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -
使用脚本自动安装
Docker 官方为了简化安装流程，提供了一套安装脚本，CentOS 系统上可以使用这套脚本安装：
curl -sSL https://get.docker.com/ | sh

DaoCloud 的安装脚本
curl -sSL https://get...</code></pre></div><div class="read-more"><a href="/2017/02/25/docker/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2017/01/13/postgres/">Postgres</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">January 13, 2017</span></div><div class="tag-labels"><a href="/tags/database/"><small class="tag-label">database</small></a><a href="/tags/postgres/"><small class="tag-label">postgres</small></a></div><hr class="article-header-separator" /><h3 id="pg创建只读用户">pg创建只读用户</h3>
<div class="highlight"><pre class="highlight plaintext"><code>SELECT date_trunc('minute', dd) :: TIMESTAMP
FROM generate_series('2016-10-01' :: TIMESTAMP, '2016-12-31' :: TIMESTAMP, '10 minute' :: INTERVAL) dd;

CREATE USER read_from_pg WITH ENCRYPTED PASSWORD '...';
GRANT CONNECT ON DATABASE test to...</code></pre></div><div class="read-more"><a href="/2017/01/13/postgres/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/11/11/firefox/">Firefox</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">November 11, 2016</span></div><div class="tag-labels"><a href="/tags/firefox/"><small class="tag-label">Firefox</small></a></div><hr class="article-header-separator" /><h3 id="如何才能使用非签名的附加组件高级用户">如何才能使用非签名的附加组件？（高级用户）</h3>

<p>Firefox ESR 45版，以及 开发者版 和 Nightly 版，将允许通过改变偏好来屏蔽增强的附加组件签名要求，请在 Firefox 配置编辑器（about:config 页）将 xpinstall.signatures.required 的值改为 false。还有其它一些山寨版的 Firefox 也允许此项屏蔽。更多内容，参阅 MozillaWiki 文章 附加组件/扩展签名。</p>
<div class="read-more"><a href="/2016/11/11/firefox/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/10/21/ruby-magic/">Ruby</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">October 21, 2016</span></div><div class="tag-labels"><a href="/tags/ruby/"><small class="tag-label">Ruby</small></a></div><hr class="article-header-separator" /><h3 id="排列组合">排列组合</h3>
<div class="highlight"><pre class="highlight plaintext"><code>arr = [1, 2, 3, 4, 5]
arr.combination(3).to_a
ary.each_cons(3).to_a
</code></pre></div><h3 id="ruby-gil">ruby GIL</h3>
<div class="highlight"><pre class="highlight plaintext"><code>1: Ruby MRI为了线程安全，用了GIL只支持单核。任何时刻只有一个线程在运行：当一个Thread阻塞时（比如IO, sleep等），就会切换到另个一线程。 所以就算用了celluloid, puma自动创建多线程的，MRI下每个进程还是单核。
而Rubinius，JRuby则没有GIL，支持多核（每个线程分配一个cpu）...</code></pre></div><div class="read-more"><a href="/2016/10/21/ruby-magic/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/10/01/javascript-good-part/">Javascript 语言精粹</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">October 01, 2016</span></div><div class="tag-labels"><a href="/tags/javascript/"><small class="tag-label">javascript</small></a></div><hr class="article-header-separator" /><h3 id="javascrip-语言精粹">javascrip 语言精粹</h3>

<ul>
  <li>假值： false, null, undefined, 0, ‘ ‘, NaN</li>
  <li>数据类型： 数字， 字符串， 布尔， null， undefined， 对象</li>
  <li>反射： typeof, hasOwnProperty</li>
  <li>delete： 不会触及原型任何对象， 会显露出来原型中的对象属性</li>
</ul>

<h5 id="函数">函数</h5>

<ul>
  <li>函数也是对象，只是可以调用</li>
  <li>调用模式： 方法调用模式， 函数调用模式， 构造器调用模式，apply调用模式（在初始化this上存在差异）</li>
  </ul><div class="read-more"><a href="/2016/10/01/javascript-good-part/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/09/07/ubuntu-abtest/">abtest</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">September 07, 2016</span></div><div class="tag-labels"><a href="/tags/test/"><small class="tag-label">test</small></a></div><hr class="article-header-separator" /><h2 id="参考">参考</h2>
<p><a href="http://www.makmong.com/1314.html">性能测试之ab测试工具</a></p>

<p><a href="ab_test.mht">性能测试之ab测试工具-mht</a></p>
<h3 id="ab测试参数详解">ab测试参数详解：</h3>
<div class="highlight"><pre class="highlight plaintext"><code>-n 测试会话中所执行的请求个数,默认仅执行一个请求
-c 一次产生的请求个数,即同一时间发出多少个请求,默认为一次一个
-t 测试所进行的最大秒数,默认为无时间限制....其内部隐含值是[-n 50000],它可以使对服务器的测试限制在一个固定的总时间以内
-p 包含了需要POST的数据的文件
-T POST数据所使用的Content-type头信息
-v 设置显示信息的详细程度
-w 以HTML表格的形...</code></pre></div><div class="read-more"><a href="/2016/09/07/ubuntu-abtest/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/09/07/linux/">linux</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">September 07, 2016</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a></div><hr class="article-header-separator" /><h3 id="二台机器之间同步大文件拷贝文件到另一台机器">二台机器之间同步大文件(拷贝文件到另一台机器)</h3>
<p>rsync -rP –rsh=ssh /file/path name@ip:/file/path</p>
<h3 id="建立软连接">建立软连接</h3>
<p>ln -s original/file/path soft/file/path</p>
<h3 id="linux后台启动服务">linux后台启动服务</h3>
<p>nohup ruby http_server.rb 2&gt;&amp;1 » log.log 2&gt;&amp;1 /dev/null &amp;</p>
<h3 id="linux根据关键字得到pid号">linux根据关键字得到pid号</h3>
<p>pgrep -f keyword</p>
<h3 id="linux创建sudo用户">linux创建sudo用户</h3>
<p>adduser username</p><div class="read-more"><a href="/2016/09/07/linux/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/09/07/linux-tar/">linux tar command</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">September 07, 2016</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/command/"><small class="tag-label">command</small></a></div><hr class="article-header-separator" /><h1 id="zip">zip</h1>
<p>zip可能是目前使用得最多的文档压缩格式。</p>

<p>它最大的优点就是在不同的操作系统平台，比如Linux， Windows以及Mac OS上使用。缺点就是支持的压缩率不是很高，而tar.gz和tar.gz2在压缩率方面做得非常好。闲话少说，我们步入正题吧：</p>

<p>我们可以使用下列的命令压缩一个目录：<br>
zip -r archive_name.zip directory_to_compress</p>

<p>下面是如果解压一个zip文档：<br>
unzip archive_name.zip</p>

<h1 id="targz">tar.gz</h1>
<p>这种格...</p><div class="read-more"><a href="/2016/09/07/linux-tar/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2016/09/07/linux-swap/">linux swap</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">September 07, 2016</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a></div><hr class="article-header-separator" /><h3 id="ubuntu增加虚拟内存">Ubuntu增加虚拟内存</h3>
<div class="highlight"><pre class="highlight plaintext"><code>Swap作为交换区，太有用了，功能类似windows下的虚拟内存，就是利用硬盘空间来扩展内存。

阿里云的系统默认都不使用swap，为了让你多买内存，而内存是最贵的一项。

如果是性能控可以掠过，毕竟阿里云的磁盘io真的不咋的。

我的ecs就挂了几个小网站，总是内存报警然后mysql挂掉，必须上swap了。

下面是步骤

首先移除关闭swap的选项，否则后面的设置会在重启后失效，在/etc/rc.local文件中移除swapoff -a 行。

然后在根目录创...</code></pre></div><div class="read-more"><a href="/2016/09/07/linux-swap/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><div class="paginate-wrapper"><div class="previous-page"><a href="/page/5/"><i class="fa fa-arrow-left"></i> Previous Page</a></div><div class="next-page"><a href="/page/7/"><i class="fa fa-arrow-right"></i> Next Page</a></div></div><div class="page-number">Page 6 of 7</div></article></main><footer><div class="footer-wrapper"><div class="author"><div class="image-wrapper"><a href="/author/"><img alt="author" src="../../images/profile-1e71686a.png" /></a></div></div><div class="image-content"><img src="../../images/wechat_nasa-0d87c0dd.png" /></div><div class="copyright"><i class="fa fa-copyright"></i> 2021 <a href="/">日常学习</a> - geniousbar</div></div><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b43ef53b285c49e1af0bd7080994c825";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></footer></body></html>