<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1.0, user-scalable=no" name="viewport" /><title>日常学习</title><meta description="geniousbar 日常知识总结" /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="../../stylesheets/style-c085f118.css" rel="stylesheet" type="text/css" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../images/favicon-6c3f3d04.png" rel="icon" type="image/png" /><script src="../../javascripts/all-b3988275.js"></script></head><body><header><div class="top-menu"><div class="top-menu-wrapper"><div class="top-menu-list"><ul><li><a href="/">Home</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li><li><a href="/by-year/">By Year</a></li><li id="wechat"><a href="#" onclick="toggleShowWechat()">Wechat</a></li></ul></div></div></div><div id="header-wechat-img"><img src="../../images/wechat_nasa-0d87c0dd.png" /></div><h1 class="logo"><a href="/" title="日常学习"><span class="logo-text">日常学习</span></a></h1></header><main><article><h1 class="article-title"><a href="/2019/05/11/shuidichou/">shuidichou</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">May 11, 2019</span></div><div class="tag-labels"><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="charles-munger---查理芒格">Charles munger —- 查理芒格</h2>

<h2 id="公用品悲剧的水滴筹与搞笑的德云社">公用品悲剧的水滴筹与搞笑的德云社</h2>

<p>是一種涉及個人利益與公共利益對資源分配有所衝突的社會陷阱</p>

<p>是一类涉及个人利益与公众利益 对资源分配有所冲突的社会陷阱。那由最大人数所共享的事物，卻只得到最少的照顾。</p>

<p>公共草地上，有一群牧羊人，每一个牧羊人都想要多获利一些，所以某个牧羊人就带了大量的羊來放牧，虽然他知道过度放牧，草地可能会承受不住。但他依然获利了，而后所有的牧羊人都跟進，所以草地牧草耗竭，悲剧因而发生了。</p>

<p>德云社成员 众筹捐款 医疗费 ...</p><div class="read-more"><a href="/2019/05/11/shuidichou/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2019/03/24/charles-munger/">charles-munger</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">March 24, 2019</span></div><div class="tag-labels"><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="charles-munger---查理芒格">Charles munger —- 查理芒格</h2>

<p>芒格 思考问题总是从逆向开始。在其漫长的一生中， 持续不断的研究、收集关于 各种各样的人物、各行各业的企业、以及政府管制、学术研究 等各个领域中 的人类失败的案例。并将那些失败的案例原因 列为 <strong>正确决策的检查清单</strong>，使自己 在决策中少犯错误。<strong>如果要明白人生如何得到幸福， 查理首先研究的是人生如何才能够变得痛苦</strong></p>

<p>很多一流的专家学者， 能够在自己的狭小的研究领域内 做到相对客观，但是一旦离开自己的领域不远。就开始变得主观、教条、僵化，甚至失去了自...</p><div class="read-more"><a href="/2019/03/24/charles-munger/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2019/02/23/linux-progress-group/">linux-progress-group</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">February 23, 2019</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>

<h3 id="进城组会话和作业控制">进城组、会话和作业控制</h3>
<p><strong>进程组和会话在进程之间形成了一种 两层的层次关系。 进程组： 是 相关进程的集合， 会话： 是 相关进程组的集合。其目的是为了支持shell的作业控制，而定义的抽象概念，使用户通过shell能够交互的在前台或后台运行命令</strong></p>

<ol>
  <li>进程组： 一个或多个共享同一进程组标识PGID的进程组成。PGID的数值为 进程组首进程的进程ID，该进程为进程组的第一个进程 或创建该进程组的进程，子进程会继承父进程 的PGID...</li>
</ol><div class="read-more"><a href="/2019/02/23/linux-progress-group/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2019/02/05/fifo-pipe/">fifo-pipe</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">February 05, 2019</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>

<h3 id="管道-fifo">管道, FIFO</h3>
<p>管道是UNIX系统上最古老的一种IPC方法，可以用来在相关进程间传递数据。FIFO 则是 管道 概念的一个变体, 区别在于 FIFO可以用于 任意进程间的通信</p>

<h4 id="管道">管道</h4>

<ol>
  <li>
    <p>shell命令中使用管道最为常见。比如 ls | wc -l, 示意图如下： 为执行该命令， shell创建了两个进程来分别执行ls、wc</p>
  </li>
  <li>管道的几个特征：
    <ol>
      <li>一个管道是一个字节流 （不存在消息...</li>
</ol>
</li>
</ol><div class="read-more"><a href="/2019/02/05/fifo-pipe/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2019/01/14/linux-interface-socket/">linux-interface-socket</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">January 14, 2019</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>
<!-- 1. 57 介绍UNIX domain socket， 允许同一主机上的系统上的应用程序之间通讯。 58 介绍TCP/IP之间联网协议的关键特性。， 59 描述internet domain socket, 允许位于不同主机上的应用程序通过一个TCP/IP王璐进行通讯， 60 讨论socket的服务设计， 61: 介绍一些高级主题， 包括socket IO的， TCP协议的细节信息，已经socket选项来获取修改socket的各种特性。 -->

<h3 id="socket">Socket</h3>
<p><strong>socket是一种IPC方法， 它允许位于同意主机或者网络连接的不同主机 上的应用程序之间交换数据(第一个被广泛接收的socket API 实现于 1983年，现在这组API 已经被移植到了大部分的计算机系统上)</strong></p>
<ol>
  <li>socket(domain, type, protocol): 系统调用
    <ul>
      <li>
        <p>domain: 1）识别 socket 地址的格式  2） 确定范围: 在同一...</p>
</li>
</ul>
</li>
</ol><div class="read-more"><a href="/2019/01/14/linux-interface-socket/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2018/12/30/linx-interface-04/">linux-interface-04</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">December 30, 2018</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>

<h3 id="文件io-通用的io模型">文件IO 通用的IO模型</h3>
<hr>
<p><strong>文件描述符： 一个非负整数，来指代打开的文件，其中包括： 管道FIFO socket，终端 设备 普通文件</strong></p>
<ol>
  <li>
    <p>标准文件描述符:</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: left">文件描述符</th>
          <th style="text-align: left">用途</th>
          <th style="text-align: left">名称</th>
          <th style="text-align: left">stdio</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left">0</td>
     ...</tr>
</tbody>
</table>
</li>
</ol><div class="read-more"><a href="/2018/12/30/linx-interface-04/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2018/12/30/linux-interface-07/">linux-interface-07</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">December 30, 2018</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>

<h2 id="内存分配">内存分配</h2>
<ol>
  <li>在堆上分配内存， 进程可以通过增加堆的大小来分配内存， 堆就是一段长度可变的连续的虚拟内存，初始于 进程未初始化的数据段末尾，随着内存的分配和释放而增减。通常将堆当前内存边界成为 program break
    <ul>
      <li>brk(vodi * end_data_segment), sbrk(int increment), 两个系统调用可以改变 program break 的位置， 位置调升以后，程序可...</li>
</ul>
</li>
</ol><div class="read-more"><a href="/2018/12/30/linux-interface-07/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2018/12/30/linux-interface-06/">linux-interface-06</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">December 30, 2018</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>
<h2 id="进程">进程</h2>
<p><strong>进程 是可执行程序的实例</strong></p>
<ol>
  <li>进程号 和 父进程号： 每个进程都有一个PID， 唯一标识 某个进程，除了少数(init PID 为1) 之外，多数程序与运行该程序的进程PID没有固定关系。 linux内核限制 进程号小于 32767,当进程号达到这个限制时候，内核将重置进程号计数器，重新从最小的整数开始分配。（进程号计数器会重置为 300， 因为 低于此数值的进程号 为系统进程和守护进程 长期占用， 关于最大进程号 默...</li>
</ol><div class="read-more"><a href="/2018/12/30/linux-interface-06/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2018/12/30/linux-interface-05/">linux-interface-05</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">December 30, 2018</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>

<h3 id="深入探究文件io">深入探究文件IO</h3>
<hr>
<p><strong>原子操作： 将某一系统调用所要完成的各个动作作为不可中断的操作，一次性加以完成, 是许多系统调用的以正确完成的必要条件</strong><br>
<strong>竞争状态是这样一种情形：操作共享资源的两个进程或线程，结果取决于 一个无法预期的顺序，即这些进程获取CPU使用权的先后相对顺序</strong></p>

<ol>
  <li>open, 保证进程是打开文件的创建者，对文件是否存在的检查和创建文件属于同一原子操作。 flags: O_CREAT</li>
  <li>
    <p>fcntl: fcntl...</p>
</li>
</ol><div class="read-more"><a href="/2018/12/30/linux-interface-05/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><h1 class="article-title"><a href="/2018/12/06/linux-interface-02/">linux-interface-02</a></h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">December 06, 2018</span></div><div class="tag-labels"><a href="/tags/linux/"><small class="tag-label">linux</small></a><a href="/tags/books/"><small class="tag-label">books</small></a></div><hr class="article-header-separator" /><h2 id="the-linux-programming-interface">The linux programming interface</h2>

<h2 id="系统编程概念">系统编程概念</h2>

<p>无论何时，执行了系统调用或者库函数，检查调用的返回状态以确定调用是否成功,是一条编程铁律。(消灭nil就好了)</p>

<h3 id="系统调用">系统调用</h3>
<blockquote>
  <p>借助这一机制，进程可以请求内核以自己的名义去执行动作，以API 的形式，内核提供一系列服务供程序访问。（创建进程， IIO操作等）可以参考 csapp中的 异常控制流章节。</p>
</blockquote>

<p>系统调用有以下特征：</p>
<ol>
  <li>系统调用将CPU 从用户态切换到 内核态，以便CPU访问受保护的内存等（越过...</li>
</ol><div class="read-more"><a href="/2018/12/06/linux-interface-02/">Read More <i class="fa fa-angle-double-right"></i></a></div><hr class="article-separator" /><div class="paginate-wrapper"><div class="previous-page"><a href="/"><i class="fa fa-arrow-left"></i> Previous Page</a></div><div class="next-page"><a href="/page/3/"><i class="fa fa-arrow-right"></i> Next Page</a></div></div><div class="page-number">Page 2 of 7</div></article></main><footer><div class="footer-wrapper"><div class="author"><div class="image-wrapper"><a href="/author/"><img alt="author" src="../../images/profile-1e71686a.png" /></a></div></div><div class="image-content"><img src="../../images/wechat_nasa-0d87c0dd.png" /></div><div class="copyright"><i class="fa fa-copyright"></i> 2021 <a href="/">日常学习</a> - geniousbar</div></div><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b43ef53b285c49e1af0bd7080994c825";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></footer></body></html>