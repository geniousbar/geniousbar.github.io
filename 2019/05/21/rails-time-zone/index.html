<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1.0, user-scalable=no" name="viewport" /><title>rails-time-zone | 日常学习</title><meta description="Rails Timezone  TimeZone 是 rails 为ruby扩展的一个 有用工具。  application.rb config.time_zone = “Beijing” 可以指定整个应用的timezone。 然而， 使用timezone依然需要一个特定的方法调用，才能够使用rails 提供的扩展。  相关代码如下:  activesupport/lib/active_support/core_ext/time/zones.rb  为 ruby 的TIme class 提..." /><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" /><link href="../../../../stylesheets/style-c085f118.css" rel="stylesheet" type="text/css" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../../../images/favicon-6c3f3d04.png" rel="icon" type="image/png" /><script src="../../../../javascripts/all-b3988275.js"></script></head><body><header><div class="top-menu"><div class="top-menu-wrapper"><div class="top-menu-list"><ul><li><a href="/">Home</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li><li><a href="/by-year/">By Year</a></li><li id="wechat"><a href="#" onclick="toggleShowWechat()">Wechat</a></li></ul></div></div></div><div id="header-wechat-img"><img src="../../../../images/wechat_nasa-0d87c0dd.png" /></div><h1 class="logo"><a href="/" title="日常学习"><span class="logo-text">日常学习</span></a></h1></header><main><article><h1 class="article-title">rails-time-zone</h1><div class="posted-date-wrapper"><i class="fa fa-clock-o"></i><span class="posted-date">May 21, 2019</span></div><div class="tag-labels"><a href="/tags/pratice/"><small class="tag-label">pratice</small></a></div><hr class="article-header-separator" /><h1 id="rails-timezone">Rails Timezone</h1>

<p>TimeZone 是 rails 为ruby扩展的一个 有用工具。</p>

<p>application.rb<br />
config.time_zone = “Beijing”<br />
可以指定整个应用的timezone。 然而， 使用timezone依然需要一个特定的方法调用，才能够使用rails 提供的扩展。</p>

<p>相关代码如下:</p>

<p>activesupport/lib/active_support/core_ext/time/zones.rb</p>

<p>为 ruby 的TIme class 提供了， zone, zone=, use_zone（在临时设定timezone，并yield之后，重置 timezone）, fine_zone！， in_time_zone(转到换 一个timezone的时间表示) 扩展，</p>

<p>zone 为一个ActiveSupport::TimeZone instance, 提供now, today, at, utc_to_local 等， 配置， timezones简单别名映射<br />
ActiveSupport::TimeWithZone, 则是简单的一个包含timezone， utc time， 的封装， 包含了一些对界面的映射， to_s, to_yml, httpdate, strftime （其中包含了 ::Timezone 表示） 等</p>
<div class="social"></div></article></main><footer><div class="footer-wrapper"><div class="author"><div class="image-wrapper"><a href="/author/"><img alt="author" src="../../../../images/profile-1e71686a.png" /></a></div></div><div class="image-content"><img src="../../../../images/wechat_nasa-0d87c0dd.png" /></div><div class="copyright"><i class="fa fa-copyright"></i> 2021 <a href="/">日常学习</a> - geniousbar</div></div><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b43ef53b285c49e1af0bd7080994c825";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></footer></body></html>